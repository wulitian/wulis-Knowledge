# 工作流设计

## 1 代码组织梳理

- 根据README了解应该阅读那些资料

- 阅读package.json了解基础设施

- 了解目录下的文件与一些插件的配置

- 进入项目中阅读与了解

## 2 代码风格统一

- 对代码整理格式化

## 3 规范代码书写

- 使用lint进行统一

## 4 规范代码命名

### 4.1 命名法

- 驼峰命名 每个单词首字母大写 UserName

- 下划线命名 单词与单词间用下划线链接 user_name

- 匈牙利命名 属性+类型+描述 strUserName

### 4.2 css预处理器命名

- BEM规范，B代表一个块（block） E代表一个元素（element  __）M代表一个修饰符（modifier  --）  

### 4.3 组件命名规范

- 按照功能命名

- 按照页面切分命名

- 按照上下文命名

## 5 规范开发工具

- EditorConfig 让开发工具阅读.editorconfig配置，可以统一遵循编辑器规范。

- Lint插件，esLint htmlHint等帮助我们在编辑器上展示错误，并可以修复部分错误。

- 单词拼写检测

- 路径自动补全

- Emmet快速编写css与html代码

- 代码格式化

## 6 项目指南

一般采用markdown文档README.md

- 运行环境说明

- 依赖准备与搭建流程

- 项目安装指南

- 线上示例与运行环境

- 相关文档链接

- 开发人员联系方式，开发讨论群等

- 合作递交代码规范

## 7 绘制架构图

- 代码生成流程图Graphviz，开源，生成的线条容易重叠

- 专业工具window中的Visio，macOs中的OmniGraffle,未开源，Dia开源，Office 365套装

- 在线工具

## 8 可编辑文档库

- 记录版本历史记录的维基Wiki软件

- 专业协作软件Atlassian、Confluence

- git+markdown

## 9 记录架构决策

- 标题

- 日期

- 描述决策的相关状态，提议、通过、完成、弃用、以取代

- 价值中立的描述事实上下文背景

- 应对当前场景相应的决策

- 记录决策后产生的结果

## 10 可视化文档

主要用于粘贴实例代码，修改代码查看实时效果，目前大多开源框架均有这种官方文档

## 11 看板工具

记录业务知识，一般包括需求文档、评审文档、详细设计文档、包括版本说明

## 12 提交信息

### 12.1 产品项目方式

jira作为看板工具，缺陷管理，任务卡管理，方式记录提交信息

### 12.2 开源项目方式

CHANGELOG.md记录通过提交规范记录提交信息

- feat 新功能
- fix Bug 修复
- docs 文档更新
- style 代码的格式，标点符号的更新
- refactor 代码重构
- perf 性能优化
- test 测试更新
- build 构建系统或者包依赖更新
- ci CI 配置，脚本文件等更新
- chore 非 src 或者 测试文件的更新
- revert commit 回退

### 12.3 文档记录总结

- 规范指南（相关规范）
- 搭建指南（搭建项目）
- 架构图（新人进入项目）
- 架构记录决策（架构决策变更）
- 知识要点（常见问题的解决）
- 可视化文档（高效展示数据）
- 看板工具（了解业务）
- 代码递交规范（了解代码修改原因）

## 13 通过流程化提高代码质量

### 13.1 代码预处理

- 静态代码分析使用lint
  
- 运行测试代码递交前测试
  
- 规范函数名及变量
  
- 代码格式规范

- 限制语言特性

- 函数行数限制

- 多重循环嵌套闲置

- 未使用代码

具体使用Git Hooks +lint

### 13.2 手动检视代码

- 提高新成员编码水平

- 保证代码规范得以实施

- 每个人对代码的业务熟悉

- 提供项目代码的质量

- 帮助成员熟悉工具和快捷键

- 常规代码检视，下班前可以作代码走读

- 阻塞是代码检视，git fork后提交会通过项目所有者同意才能提交

## 14 使用工具提升代码质量

- 代码扫描工具 Sonar

- IDE快速重构

## 15 测试策略

- 单元测试（代码单元测试）

- 组件测试（快照测试）

- 契约测试（服务测试）

- e2e测试（集成测试）
