# web前端优化

#### 精简回答：

1. html优化：选择合适的标签有利于语义化，p标签不嵌套div 减少iframe的使用，减少dom节点，减少阻塞，减少使用过多字体

2. css优化:合并css减少http请求，放在页面最上面，移除空规则，尽量放在一行，尽量减少代码，属性0的时候不加单位，css雪碧图，选择器尽量不要将id当做属性，选择器层级尽量不要太深，用 <link> 代替 @import，减少重绘回流操作

3. js优化:删除不使用代码，使用缓存，避免内存泄露如闭包的不当使用，尽量打破少用循环，减少dom操作，压缩代码，防抖节流，异步防止阻塞，

4. webpack优化:减少不必要loader，优化 resolve.modules 配置不必要一层一层找，直接指定目录，优化 resolve.mainFields 配置 mainFields: ['main']，


5. babel优化:

6. vue优化:

7. http优化:

- 限制主要原因：

- 客户端：与服务器的距离（部署时前端后端服务器最好在距离比较近）带宽数据传输瓶颈，DNS查询如果本地没有缓存dns递归查询，在获取ip之前只能等待，浏览器每个域名最多6并发（http1.1）页面请求多时只能等待，tcp三次握手，首字节响应时间，响应时间

- 数据链路：cdn技术（让网络坐上飞机）

- 服务器：吞吐量，并发数，响应时间，cpu,内存，硬盘网卡，根据当前情况选择最适合的

- 解决办法：

- 开源（找到源头）开发服务器自身潜力，现有条件不变时尽量挖掘首选nginx,动静分离，长连接（第一次请求时间长，后续请求不会有延时，总体延迟降低）

- 节流（减少客户端和服务端收发数据量）最基本做法就是数据压缩编码gzip,压缩比得控制好，html，css,js，img压缩去除注释，图片合并减少cookie数据量，减少网站域名个数，dns解析慢，不利于缓存

- 缓存
   cdn就是建立在缓存基础上的，cache-control expires控制,max-age最大有效期，在有效期内不会再次请求
   
- http1.1升级http2
http2主要优点，消除对头阻塞，头部压缩，多路复用，流量控制，服务器推送等特性，大幅度提升http传输效率
http1.0优化手段在http2中会有反作用，如资源合并，因为有了多路复用，资源合并降低了缓存可能性，只要有一个文件更新，缓存就会失效
